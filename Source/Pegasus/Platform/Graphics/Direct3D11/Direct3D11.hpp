#pragma once

#ifdef PG_SYSTEM_WINDOWS

namespace Direct3D11
{
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// Buffer
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct Buffer
	{
		ComPtr<ID3D11Buffer> Obj;
		int32 SizeInBytes = 0;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// BlendState
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct BlendState
	{
		ComPtr<ID3D11BlendState> Obj;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// DepthStencilState
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct DepthStencilState
	{
		ComPtr<ID3D11DepthStencilState> Obj;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// RasterizerState
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct RasterizerState
	{
		ComPtr<ID3D11RasterizerState> Obj;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// SamplerState
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct SamplerState
	{
		ComPtr<ID3D11SamplerState> Obj;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// Query
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct Query
	{
		ComPtr<ID3D11Query> Obj;
		QueryType Type;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// Shader
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct Shader
	{
		ComPtr<ID3D11DeviceChild> Obj;
		ShaderType Type;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// ShaderProgram
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct ShaderProgram
	{
		ComPtr<ID3D11VertexShader> VertexShader;
		ComPtr<ID3D11PixelShader> PixelShader;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// RenderTarget
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct RenderTarget
	{
		ComPtr<ID3D11DepthStencilView> DepthStencil;
		ComPtr<ID3D11RenderTargetView> ColorBuffers[Graphics::MaxColorBuffers];
		UINT ColorBufferCount = 0;
		int32 Width = 0;
		int32 Height = 0;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// SwapChain
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct SwapChain
	{
		ComPtr<IDXGISwapChain> Obj;
		RenderTarget BackBuffer;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// Texture
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct Texture
	{
		ComPtr<ID3D11Resource> Obj;
		ComPtr<ID3D11ShaderResourceView> View;
	};

	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	// VertexLayout
	//-------------------------------------------------------------------------------------------------------------------------------------------------------
	struct VertexLayout
	{
		ComPtr<ID3D11Buffer> IndexBuffer;
		ComPtr<ID3D11InputLayout> InputLayout;

		DXGI_FORMAT IndexFormat;
		UINT IndexOffset = 0;
		int32 BindingsCount = 0;

		struct {
			UINT Offset;
			UINT Slot;
			UINT Stride;
			ComPtr<ID3D11Buffer> VertexBuffer;
		} Bindings[Graphics::MaxVertexBindings];
	};
}

#endif